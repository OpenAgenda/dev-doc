"use strict";(self.webpackChunkdev_doc=self.webpackChunkdev_doc||[]).push([[698],{4060:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"guides/source-de-donnees","title":"Pr\xe9parer une source de donn\xe9es","description":"Bonnes pratiques pour la mise en place d\'un export qui servira de source de donn\xe9es principale pour une synchronisation vers un OpenAgenda.","source":"@site/docs/guides/source-de-donnees.md","sourceDirName":"guides","slug":"/guides/source-de-donnees","permalink":"/guides/source-de-donnees","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenAgenda/dev-doc/docs/guides/source-de-donnees.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"apiSidebar","previous":{"title":"Portail node.js","permalink":"/plugins/agenda-portal"},"next":{"title":"llm.txt","permalink":"/llm"}}');var r=n(4373),t=n(7672);const a={sidebar_position:1},o="Pr\xe9parer une source de donn\xe9es",l={},d=[{value:"Les champs principaux",id:"les-champs-principaux",level:2},{value:"Les plages horaires",id:"les-plages-horaires",level:2},{value:"La localisation",id:"la-localisation",level:2},{value:"Des \xe9v\xe9nements plus complets",id:"des-\xe9v\xe9nements-plus-complets",level:3},{value:"Les champs additionnels",id:"les-champs-additionnels",level:2},{value:"Des questions?",id:"des-questions",level:2}];function u(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"pr\xe9parer-une-source-de-donn\xe9es",children:"Pr\xe9parer une source de donn\xe9es"})}),"\n",(0,r.jsx)(s.p,{children:"Bonnes pratiques pour la mise en place d'un export qui servira de source de donn\xe9es principale pour une synchronisation vers un OpenAgenda."}),"\n",(0,r.jsx)(s.p,{children:"L'API rend possible la synchronisation de l'agenda de son site/syst\xe8me d'informations avec un ou plusieurs agendas sur OpenAgenda. Les points suivants sont important \xe0 prendre en consid\xe9ration pour que la reprise d'une programmation se fasse de la mani\xe8re la plus compl\xe8te possible."}),"\n",(0,r.jsx)(s.p,{children:"Les donn\xe9es pr\xe9sent\xe9es sur votre OpenAgenda seront amen\xe9es \xe0 \xeatre diffus\xe9es vers d'autres OpenAgenda et d'autres sites, des approximations trop importantes - mais n\xe9cessaires lorsque la source de donn\xe9es n'est pas suffisamment d\xe9taill\xe9e - r\xe9duiront la lisibilit\xe9 de vos \xe9v\xe9nements."}),"\n",(0,r.jsxs)(s.p,{children:["Les ",(0,r.jsx)(s.strong,{children:"formats structur\xe9s usuels"})," pourront \xeatre trait\xe9s par une synchronisation: le format JSON est de loin le plus courant."]}),"\n",(0,r.jsx)(s.h2,{id:"les-champs-principaux",children:"Les champs principaux"}),"\n",(0,r.jsxs)(s.p,{children:["Chaque \xe9v\xe9nement est \xe0 minima d\xe9fini par un ",(0,r.jsx)(s.strong,{children:"titre"}),", une ",(0,r.jsx)(s.strong,{children:"description"})," et ",(0,r.jsx)(s.strong,{children:"une liste de plages horaires"}),". Pour les \xe9v\xe9nements ",(0,r.jsx)(s.em,{children:"in-situ"})," (pas uniquement sur internet), ",(0,r.jsx)(s.strong,{children:"un lieu physique"})," doit \xeatre donn\xe9."]}),"\n",(0,r.jsxs)(s.p,{children:["Les champs descriptifs (titre, description courte, description longue, mots cl\xe9s, conditions) peuvent \xeatre ",(0,r.jsx)(s.strong,{children:"multilingues"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"D\xe9clinaisons de la description"}),": deux champs de description existent sur le sch\xe9ma standard OpenAgenda. Une description courte obligatoire servant sur les affichages de taille r\xe9duite des \xe9v\xe9nements (ex: sur une vue liste), une longue pour les vue d\xe9taill\xe9es."]}),"\n",(0,r.jsxs)(s.p,{children:["Le format de la description longue est le ",(0,r.jsx)(s.em,{children:(0,r.jsx)(s.a,{href:"https://fr.wikipedia.org/wiki/Markdown",children:"markdown"})}),": les formats HTML ou texte sont accept\xe9s, ils seront convertis lors de la synchronisation."]}),"\n",(0,r.jsxs)(s.p,{children:["Retrouvez la liste des champs constituant un \xe9v\xe9nement ",(0,r.jsx)(s.a,{href:"https://developers.openagenda.com/00-structure-evenement/",children:"en cliquant ici"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Une illustration"})," n'est pas obligatoire mais est importante pour la visibilit\xe9 de l'\xe9v\xe9nement: un URL pourra \xeatre exploit\xe9 par la synchronisation qui fera une copie sur OpenAgenda. Dans la mesure du possible, associez des cr\xe9dits pour \xe9viter d'\xe9ventuels litiges."]}),"\n",(0,r.jsx)(s.h2,{id:"les-plages-horaires",children:"Les plages horaires"}),"\n",(0,r.jsx)(s.p,{children:"Sur OpenAgenda, un \xe9v\xe9nement peut \xeatre d\xe9crit par une ou plusieurs plages horaires. Chaque plage horaire a un d\xe9but et une fin. Une plage horaire ne peut pas exc\xe9der 24 heures."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:"[{ begin: '2024-05-07T10:00:00+0200', end: '2024-05-07T12:00:00+0200' }]\n"})}),"\n",(0,r.jsx)(s.p,{children:"S'il arrive que la source de donn\xe9es n'arrive pas \xe0 ce niveau de d\xe9tail, des approximations devront \xeatre \xe9tablies lors du traitement des \xe9v\xe9nements."}),"\n",(0,r.jsx)(s.p,{children:"Voici des approximations courantes:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"L'horaire de fin n'est pas connu: si la dur\xe9e de l'\xe9v\xe9nement n'est pas connu, une dur\xe9e par d\xe9faut sera d\xe9finie."}),"\n",(0,r.jsx)(s.li,{children:"Seule une date est bien format\xe9e, les horaires sont saisis librement: une extraction des horaires n'est possible que si le format dans la donn\xe9e source est suffisamment r\xe9guli\xe8re (ex: de 14h \xe0 17h). Elle devient difficile avec des saisies trop variables. Dans ce cas, l'\xe9v\xe9nement ne peut pas \xeatre repris sans grosse approximation sur l'horaire: un horaire de d\xe9but et de fin g\xe9n\xe9ral sera utilis\xe9."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"la-localisation",children:"La localisation"}),"\n",(0,r.jsx)(s.p,{children:"Selon le mode de participation, un \xe9v\xe9nement OpenAgenda est li\xe9 \xe0 un lieu qui est un objet s\xe9par\xe9: un OpenAgenda est associ\xe9 \xe0 un r\xe9pertoire de lieux qui lui est propre ou qui est mutualis\xe9 entre plusieurs OpenAgendas."}),"\n",(0,r.jsxs)(s.p,{children:["Un lieu est d\xe9fini a minima par un nom et une adresse postale compl\xe8te. L'API se charge alors d'effectuer une g\xe9olocalisation pour pouvoir le placer sur une carte. Exemple de nom: ",(0,r.jsx)(s.em,{children:"Salle polyvalente Corraze ..."})," et d'adresse postale compl\xe8te: ",(0,r.jsx)(s.em,{children:"3 bis, rue Raymond Corraze, 31500 Toulouse"})]}),"\n",(0,r.jsx)(s.p,{children:"Si plus d'informations li\xe9es au lieu sont disponibles celles-ci seront reprises. La g\xe9olocalisation, un descriptif, un d\xe9tail sur les acc\xe8s, une illustration, des num\xe9ros de t\xe9l\xe9phone, email et site internet."}),"\n",(0,r.jsx)(s.p,{children:"Dans l'id\xe9al, une source de donn\xe9e s\xe9par\xe9e listant les lieux est mise \xe0 disposition et est associ\xe9e \xe0 une deuxi\xe8me source de donn\xe9e listant les \xe9v\xe9nements.."}),"\n",(0,r.jsxs)(s.p,{children:["Le d\xe9tail des champs constitutifs d'un lieu sur OpenAgenda est donn\xe9 ",(0,r.jsx)(s.a,{href:"https://developers.openagenda.com/10-structure-lieu/",children:"ici"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"des-\xe9v\xe9nements-plus-complets",children:"Des \xe9v\xe9nements plus complets"}),"\n",(0,r.jsx)(s.p,{children:"Dans la mesure du possible, le maximum d'information doit pouvoir \xeatre reprise lors de la synchronisation. Le d\xe9tail des champs d\xe9finissant un \xe9v\xe9nement sur OpenAgenda est consultable ici. Voici les plus usuels:"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Conditions"}),": Un champ (optionnellement multilingue) recevant un texte d\xe9taillant les conditions d'acc\xe8s \xe0 l'\xe9v\xe9nement. Ex: Payant, gratuit, sur inscription, tarifs."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Outils d'inscription"}),": une liste de valeurs permettant aux public de s'inscrire \xe0 l'\xe9v\xe9nement. Ce sont soit des liens hypertexte, des num\xe9ros de t\xe9l\xe9phone ou des emails."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Mots cl\xe9s"}),": une liste de textes courts (optionnellement multilingue) pour qualifier les \xe9v\xe9nements, utiles pour la recherche et l'indexation de pages (balises meta)"]}),"\n",(0,r.jsxs)(s.p,{children:["Au del\xe0, informer le maximum des champs d\xe9taill\xe9s ",(0,r.jsx)(s.a,{href:"https://developers.openagenda.com/00-structure-evenement/",children:"ici"})," am\xe9liorera la qualit\xe9 de la description de l'\xe9v\xe9nement."]}),"\n",(0,r.jsx)(s.h2,{id:"les-champs-additionnels",children:"Les champs additionnels"}),"\n",(0,r.jsxs)(s.p,{children:["Des champs particuliers \xe0 certains agendas ou r\xe9seaux d'agendas permettent d'ajouter des d\xe9tails de cat\xe9gorisation ou des sp\xe9cificit\xe9s propres \xe0 certains type d'\xe9v\xe9nements. Le plus souvent, il s'agit d'une liste discr\xe8te de th\xe9matiques/types d'\xe9v\xe9nements/cat\xe9gories. Le d\xe9tail des valeurs possibles est donn\xe9 par un appel API sur ",(0,r.jsx)(s.a,{href:"https://developers.openagenda.com/agenda/lecture",children:"la configuration d'un agenda"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"Si ces champs ont \xe9t\xe9 d\xe9finis comme \xe9tant obligatoires, le script de synchronisation devra leur associer une valeur pour permettre l'ajout des \xe9v\xe9nements sur l'OpenAgenda cible. Dans ce cas, la source de donn\xe9e devra pr\xe9senter une donn\xe9e permettant une mise en correspondance avec les valeurs propos\xe9es par les champs additionnels."}),"\n",(0,r.jsxs)(s.p,{children:["Par exemple, le r\xe9seau d'agendas de la m\xe9tropole de Toulouse requiert la saisie d'une ou plusieurs ",(0,r.jsx)(s.em,{children:"Th\xe9matiques m\xe9tropolitaines"})," dont les valeurs possibles sont ",(0,r.jsx)(s.em,{children:"Culture, \xc9conomie, \xc9ducation, Emploi, Loisirs, Nature - Environnement, Participation citoyenne, Patrimoine, Social - Sant\xe9, Sports"}),". La source de donn\xe9es devra pour chaque \xe9v\xe9nement proposer une cat\xe9gorisation similaire."]}),"\n",(0,r.jsx)(s.h2,{id:"des-questions",children:"Des questions?"}),"\n",(0,r.jsx)(s.p,{children:"Pour tout interrogation concernant la mise en place d'un export, contactez nous soit:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"via l'outil de clavardage disponible en bas \xe0 droite de cette page"}),"\n",(0,r.jsxs)(s.li,{children:["par email: ",(0,r.jsx)(s.a,{href:"mailto:support@openagenda.com",children:"support@openagenda.com"})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"En plus de r\xe9pondre \xe0 vos interrogation, vos questions nous permettrons de mieux comprendre vos contraintes et d'adapter cette documentation en fonction."})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},7672:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>o});var i=n(4897);const r={},t=i.createContext(r);function a(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);