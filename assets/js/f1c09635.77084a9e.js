"use strict";(self.webpackChunkdev_doc=self.webpackChunkdev_doc||[]).push([[164],{4075:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>s,metadata:()=>d,toc:()=>a});const d=JSON.parse('{"id":"lieux/lecture","title":"Lecture de lieux","description":"Lister ou consulter un lieu d\'un agenda","source":"@site/docs/lieux/lecture.md","sourceDirName":"lieux","slug":"/lieux/lecture","permalink":"/lieux/lecture","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenAgenda/dev-doc/docs/lieux/lecture.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Lecture de lieux","description":"Lister ou consulter un lieu d\'un agenda","sidebar_position":2},"sidebar":"apiSidebar","previous":{"title":"Structure","permalink":"/lieux/structure"},"next":{"title":"Cr\xe9ation","permalink":"/lieux/creation"}}');var r=i(4373),t=i(7672);const s={title:"Lecture de lieux",description:"Lister ou consulter un lieu d'un agenda",sidebar_position:2},l="Lecture des lieux",c={},a=[{value:"Lister",id:"lister",level:2},{value:"En bref",id:"en-bref",level:3},{value:"Param\xe8tres",id:"param\xe8tres",level:3},{value:"Filtres",id:"filtres",level:4},{value:"Contenu",id:"contenu",level:4},{value:"Navigation",id:"navigation",level:4},{value:"R\xe9ponse",id:"r\xe9ponse",level:3},{value:"Lire un lieu",id:"lire-un-lieu",level:2},{value:"Par son identifiant unique (uid)",id:"par-son-identifiant-unique-uid",level:3},{value:"Par un identifiant externe (extId)",id:"par-un-identifiant-externe-extid",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"lecture-des-lieux",children:"Lecture des lieux"})}),"\n",(0,r.jsx)(n.h2,{id:"lister",children:"Lister"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /v2/agendas/{agendaUID}/locations\n"})}),"\n",(0,r.jsx)(n.h3,{id:"en-bref",children:"En bref"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"agendaUID"})," est l'identifiant unique de l'agenda o\xf9 les lieux sont r\xe9f\xe9renc\xe9s"]}),"\n",(0,r.jsxs)(n.li,{children:["Une ",(0,r.jsx)(n.a,{href:"/authentification",children:"authentification"})," en lecture ou par jeton d'acc\xe8s est requise"]}),"\n",(0,r.jsx)(n.li,{children:"La r\xe9ponse contient un segment du r\xe9f\xe9rentiel complet des lieux de l'agenda. Si le total exc\xe8de le nombre de lieux rendus en un appel, une boucle de lecture devra \xeatre mise en place."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,r.jsx)(n.h4,{id:"filtres",children:"Filtres"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Cl\xe9"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Valeurs possibles / Exemple"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updatedAt.gte"})}),(0,r.jsx)(n.td,{children:"date"}),(0,r.jsx)(n.td,{children:"Retourne les lieux mis \xe0 jour apr\xe8s cette date"}),(0,r.jsxs)(n.td,{children:["Format : ",(0,r.jsx)(n.code,{children:"YYYY-MM-DD"})," ou ",(0,r.jsx)(n.code,{children:"YYYY-MM-DDTHH:MM:SS+ZZZZ"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updatedAt.lte"})}),(0,r.jsx)(n.td,{children:"date"}),(0,r.jsx)(n.td,{children:"Retourne les lieux mis \xe0 jour avant cette date"}),(0,r.jsx)(n.td,{children:"Idem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"createdAt.gte"})}),(0,r.jsx)(n.td,{children:"date"}),(0,r.jsx)(n.td,{children:"Retourne les lieux cr\xe9\xe9s apr\xe8s cette date"}),(0,r.jsx)(n.td,{children:"Idem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"createdAt.lte"})}),(0,r.jsx)(n.td,{children:"date"}),(0,r.jsx)(n.td,{children:"Retourne les lieux cr\xe9\xe9s avant cette date"}),(0,r.jsx)(n.td,{children:"Idem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"search"})}),(0,r.jsx)(n.td,{children:"cha\xeene"}),(0,r.jsx)(n.td,{children:"Requ\xeate de recherche textuelle sur les lieux"}),(0,r.jsxs)(n.td,{children:["Exemple : ",(0,r.jsx)(n.code,{children:'"mus\xe9e"'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"state"})}),(0,r.jsx)(n.td,{children:"entier"}),(0,r.jsx)(n.td,{children:"Filtre par statut de v\xe9rification"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"0"})," (non v\xe9rifi\xe9), ",(0,r.jsx)(n.code,{children:"1"})," (v\xe9rifi\xe9)"]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"contenu",children:"Contenu"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Cl\xe9"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Valeurs possibles / Exemple"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"detailed"})}),(0,r.jsx)(n.td,{children:"bool\xe9en"}),(0,r.jsx)(n.td,{children:"Retourne tous les champs des lieux"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"true"})," ou ",(0,r.jsx)(n.code,{children:"false"})]})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"navigation",children:"Navigation"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Cl\xe9"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Valeurs possibles / Exemple"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"size"})}),(0,r.jsx)(n.td,{children:"entier"}),(0,r.jsx)(n.td,{children:"Nombre maximum de lieux \xe0 retourner"}),(0,r.jsxs)(n.td,{children:["Exemple : ",(0,r.jsx)(n.code,{children:"20"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"after"})}),(0,r.jsx)(n.td,{children:"cha\xeene"}),(0,r.jsx)(n.td,{children:"Curseur pour pagination"}),(0,r.jsxs)(n.td,{children:["Valeur fournie dans la r\xe9ponse pr\xe9c\xe9dente (",(0,r.jsx)(n.code,{children:"after"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"order"})}),(0,r.jsx)(n.td,{children:"cha\xeene"}),(0,r.jsx)(n.td,{children:"Ordre de tri"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"name.asc"}),", ",(0,r.jsx)(n.code,{children:"name.desc"}),", ",(0,r.jsx)(n.code,{children:"createdAt.asc"}),", ",(0,r.jsx)(n.code,{children:"createdAt.desc"})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"r\xe9ponse",children:"R\xe9ponse"}),"\n",(0,r.jsx)(n.p,{children:"Le corps de r\xe9ponse pr\xe9sente trois cl\xe9s:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"locations"})," : liste des lieux correspondant aux crit\xe8res."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"total"})," : nombre total de r\xe9sultats."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"after"})," : valeur \xe0 utiliser pour la page suivante."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"lire-un-lieu",children:"Lire un lieu"}),"\n",(0,r.jsx)(n.h3,{id:"par-son-identifiant-unique-uid",children:"Par son identifiant unique (uid)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /v2/agendas/{agendaUID}/locations/{locationUID}\n"})}),"\n",(0,r.jsx)(n.p,{children:"La r\xe9ponse contiendra toutes les donn\xe9es disponibles sur le lieu."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\xc0 noter"}),": pour se limiter \xe0 v\xe9rifier l'existence du lieu, utiliser la m\xe9thode ",(0,r.jsx)(n.code,{children:"HEAD"}),", ce qui \xe9vitera un transfert de donn\xe9es inutile."]}),"\n",(0,r.jsx)(n.h3,{id:"par-un-identifiant-externe-extid",children:"Par un identifiant externe (extId)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Si aucune cl\xe9 particuli\xe8re n'est associ\xe9e \xe0 l'identifiant externe (cl\xe9 \"default\"):"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"/v2/agendas/{agendaUID}/locations/ext/{value}\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Si l'identifiant externe est associ\xe9 \xe0 une cl\xe9"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"/v2/agendas/{agendaUID}/locations/ext/{key}/{velue}\n"})})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},7672:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var d=i(4897);const r={},t=d.createContext(r);function s(e){const n=d.useContext(t);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),d.createElement(t.Provider,{value:n},e.children)}}}]);