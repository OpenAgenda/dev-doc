"use strict";(self.webpackChunkdev_doc=self.webpackChunkdev_doc||[]).push([[88],{4648:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"agendas/recherche","title":"Recherche","description":"Lister et rechercher les agendas publi\xe9s et index\xe9s sur OpenAgenda","source":"@site/docs/agendas/recherche.md","sourceDirName":"agendas","slug":"/agendas/recherche","permalink":"/agendas/recherche","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenAgenda/dev-doc/docs/agendas/recherche.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"apiSidebar","previous":{"title":"Les routes /agendas","permalink":"/agendas"},"next":{"title":"Lecture","permalink":"/agendas/lecture"}}');var d=r(4373),i=r(7672);const t={sidebar_position:1},c="Recherche",l={},a=[{value:"Param\xe8tres",id:"param\xe8tres",level:2},{value:"Filtres",id:"filtres",level:3},{value:"Contenu",id:"contenu",level:3},{value:"Navigation",id:"navigation",level:3},{value:"Exemples",id:"exemples",level:2},{value:"curl",id:"curl",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"recherche",children:"Recherche"})}),"\n",(0,d.jsx)(n.p,{children:"Lister et rechercher les agendas publi\xe9s et index\xe9s sur OpenAgenda"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"GET /v2/agendas\n"})}),"\n",(0,d.jsx)(n.h2,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,d.jsx)(n.h3,{id:"filtres",children:"Filtres"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Cl\xe9"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Valeurs"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"official"})}),(0,d.jsx)(n.td,{children:"bool\xe9en"}),(0,d.jsx)(n.td,{children:"Filtrer selon le crit\xe8re officiel ou non des agendas"}),(0,d.jsxs)(n.td,{children:["Ind\xe9fini par d\xe9faut. ",(0,d.jsx)(n.code,{children:"0"})," pour filtrer sur les agendas non-officiels, ",(0,d.jsx)(n.code,{children:"1"})," pour les officiels."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"search"})}),(0,d.jsx)(n.td,{children:"texte"}),(0,d.jsx)(n.td,{children:"Recherche synthaxique sur le titre et les termes cl\xe9s d'un agenda, d\xe9rivant des \xe9v\xe9nements publi\xe9s: g\xe9ographie, mots cl\xe9s"}),(0,d.jsxs)(n.td,{children:["Exemples: ",(0,d.jsx)(n.code,{children:"?search=Festival"})," ou ",(0,d.jsx)(n.code,{children:"search=Loiret"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"network"})}),(0,d.jsx)(n.td,{children:"entier"}),(0,d.jsx)(n.td,{children:"Filtrer selon l'identifiant du r\xe9seau d'agendas souhait\xe9"}),(0,d.jsxs)(n.td,{children:["Exemple: ",(0,d.jsx)(n.code,{children:"?network=34480426"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"locationSet"})}),(0,d.jsx)(n.td,{children:"entier"}),(0,d.jsx)(n.td,{children:"Filtrer selon l'identifiant du jeu de lieux souhait\xe9"}),(0,d.jsxs)(n.td,{children:["Exemple: ",(0,d.jsx)(n.code,{children:"?locationSet=3892749"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"updatedAt.gte"})}),(0,d.jsx)(n.td,{children:"timestamp"}),(0,d.jsxs)(n.td,{children:["Filtrer sur les agendas mis \xe0 jour apr\xe8s un moment donn\xe9. La variante ",(0,d.jsx)(n.code,{children:"updatedAt.lte"})," est \xe9galement possible."]}),(0,d.jsxs)(n.td,{children:["Exemple: ",(0,d.jsx)(n.code,{children:"?updatedAt.gte=2025-07-16T12:19:00.000Z"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uid"})}),(0,d.jsx)(n.td,{children:"entier[]"}),(0,d.jsx)(n.td,{children:"Filtrer sur un ou plusieurs agendas par leurs identifiants uniques."}),(0,d.jsxs)(n.td,{children:["Exemple: ",(0,d.jsx)(n.code,{children:"?uid=123"})," ou ",(0,d.jsx)(n.code,{children:"?uid[]=123&uid[]=456"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"slug"})}),(0,d.jsx)(n.td,{children:"texte[]"}),(0,d.jsx)(n.td,{children:"Filtrer sur un ou plusieurs agendas par leurs codes url"}),(0,d.jsxs)(n.td,{children:["Exemple: ",(0,d.jsx)(n.code,{children:"?slug=loiret"})," ou ",(0,d.jsx)(n.code,{children:"slug[]=cite-des-sciences&slug[]=versailles"})]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"contenu",children:"Contenu"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Cl\xe9"}),(0,d.jsx)(n.th,{children:"Variante"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Valeurs"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"includeFields"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"if"})}),(0,d.jsx)(n.td,{children:"texte[]"}),(0,d.jsx)(n.td,{children:"Liste des champs \xe0 r\xe9cup\xe9rer. Utile pour limiter la volum\xe9trie des donn\xe9es transf\xe9r\xe9es au n\xe9cessaire."}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"uid"}),", ",(0,d.jsx)(n.code,{children:"title"}),", ",(0,d.jsx)(n.code,{children:"image"}),", ",(0,d.jsx)(n.code,{children:"description"}),", ",(0,d.jsx)(n.code,{children:"official"}),", ",(0,d.jsx)(n.code,{children:"slug"}),", ",(0,d.jsx)(n.code,{children:"summary"}),", ",(0,d.jsx)(n.code,{children:"schema"}),", ",(0,d.jsx)(n.code,{children:"network"}),", ",(0,d.jsx)(n.code,{children:"createdAt"}),", ",(0,d.jsx)(n.code,{children:"locationSet"}),", ",(0,d.jsx)(n.code,{children:"settings"})]})]})})]}),"\n",(0,d.jsx)(n.h3,{id:"navigation",children:"Navigation"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Cl\xe9"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Valeurs"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"after"})}),(0,d.jsx)(n.td,{children:"entier[]"}),(0,d.jsx)(n.td,{children:"Cl\xe9 \xe0 fournir pour r\xe9cup\xe9rer le jeu suivant. Elle est donn\xe9e dans la r\xe9ponse."}),(0,d.jsxs)(n.td,{children:["Exemple: ",(0,d.jsx)(n.code,{children:"?after[]=1&after[]=36668061"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"size"})}),(0,d.jsx)(n.td,{children:"entier"}),(0,d.jsx)(n.td,{children:"Nombre d'agendas \xe0 r\xe9cup\xe9rer sur un appel. Maximum: 100."}),(0,d.jsxs)(n.td,{children:["Exemple: ",(0,d.jsx)(n.code,{children:"?size=20"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"sort"})}),(0,d.jsx)(n.td,{children:"texte"}),(0,d.jsx)(n.td,{children:"Filtrer par agendas officiels"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"createdAt.desc"})," ou ",(0,d.jsx)(n.code,{children:"recentlyAddedEvents.desc"}),". Si ind\xe9fini et avec un crit\xe8re ",(0,d.jsx)(n.code,{children:"search"})," de d\xe9fini, le tri sera par pertinence, sinon, par ordre croissant d'identifiant. Le tri par d\xe9faut peut \xeatre amen\xe9 \xe0 \xe9voluer`"]})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"exemples",children:"Exemples"}),"\n",(0,d.jsx)(n.h3,{id:"curl",children:"curl"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'curl -H "key: VOTRE_CLE_PUBLIQUE" \\\n  "https://api.openagenda.com/v2/agendas?size=2&official=1"\n'})}),"\n",(0,d.jsx)(n.p,{children:"...donne:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "after": [1, 125325],\n  "agendas": [\n    {\n      "uid": 62695,\n      "image": "https://cdn.openagenda.com/main/agenda62695.jpg",\n      "description": "Retrouvez tous les \xe9v\xe9nements du patrimoine sur Grand Ch\xe2tellerault",\n      "official": true,\n      "title": "Patrimoine Grand Ch\xe2tellerault",\n      "slug": "patrimoine-grand-chatellerault"\n    },\n    {\n      "uid": 125325,\n      "image": "https://cdn.openagenda.com/main/agenda125325.jpg",\n      "description": "EPCC pour la connaissance, la valorisation, la conservation et la restauration des patrimoines ethnologique et mus\xe9ographique en Normandie.",\n      "official": true,\n      "title": "La Fabrique de patrimoines en Normandie",\n      "slug": "fabrique"\n    }\n  ],\n  "total": 3886\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Et:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'curl -H "key: VOTRE_CLE_PUBLIQUE" \\\n  "https://api.openagenda.com/v2/agendas?size=2&official=1&after[]=1&after[]=125325"\n'})}),"\n",(0,d.jsx)(n.p,{children:"... pour r\xe9cup\xe9rer le jeu de r\xe9sultats suivants."})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},7672:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var s=r(4897);const d={},i=s.createContext(d);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);